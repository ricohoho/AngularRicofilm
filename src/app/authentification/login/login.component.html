
<span > &nbsp;</span>
<div styleClass="login-form">
  <p-card styleClass="user-form" class="flex justify-content-center">
  <H4>Connexion</H4>
  <div class="card card-container">        
    <form *ngIf="!isLoggedIn" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div class="field">
            <input type="text" pInputText placeholder="Code Utilisateur" class="form-control" name="username" [(ngModel)]="form.username" 
              required #username="ngModel" [ngClass]="{ 'is-invalid': f.submitted && username.errors }" 
              autocomplete="username"
            />            
            
            <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
              <small class="p-error block" *ngIf="username.errors && f.submitted" class="invalid-feedback">
              Code utilisateur obligatoire
              </small>
            </div>
      </div>
      <div class="field">
        <input type="password" pInputText placeholder="Mot de passe" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6" #password="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
          autocomplete="current-password"
        />
        <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
          <small class="p-error block"  *ngIf="password.errors['required']">
            Le mot de passe est obligatoire
          </small>
          <small *ngIf="password.errors['minlength']">
            Mot de passe avec au moins 6 caractères
          </small>
        </div>
      </div>
      <div class="field"> 
        <button pButton >Connexion</button>
        <p-button icon="pi pi-user-plus" styleClass="p-button-rounded p-button-info p-button-text" (onClick)="goRegister()">                    
        </p-button> 
      </div>
      <div class="form-group">
        <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger" role="alert">
          Connexion echouée: {{ errorMessage }}
        </div>
      </div>
    </form>

    <div class="alert alert-success" *ngIf="isLoggedIn">
      Logged in : {{form.username}} as {{ roles }}.
    </div>
  </div>
</p-card>
</div>